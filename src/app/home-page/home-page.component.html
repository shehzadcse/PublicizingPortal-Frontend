<div class="wrapper">


    <div 
    infiniteScroll
    [scrollWindow]="true"
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="150"
    (scrolled)="getLeadsNextPage()"
    style="overflow: auto"
    class="grid-section">
   
  
          <div style="padding:20px" class="gridContainer">
             <!-- <table>

                <tbody >
               
                    <tr *ngFor="let row of allArr;let i=index">
                      <td (click)="viewModal(allArr[i][j])" *ngFor="let col of allArr[i];let j=index" [colSpan]="allArr[i][j].wBlocks"  [rowSpan]="allArr[i][j].hBlocks" class="box-95">
                          <img  style="display:block;" width="100%" height="100%"  *ngIf="allArr[i][j].wBlocks > 0 && allArr[i][j]?.img" class="inner-box" [src]="allArr[i][j]?.img"/>
                      </td>
                     
                  </tr> 
                  <tr></tr>
                  <tr></tr>
                  <tr></tr>
                  <tr></tr>
                  
                  <tr>
                  
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                    <td class="box-95"> </td>
                  
                </tr> 
               
                </tbody>
            </table>   -->
            <div [style.backgroundColor]="image.img !=='./assets/media/block.jpeg' ? 'white': 'none'"  (click)="viewModal(image)" *ngFor="let image of images" [style.gridColumnEnd]="'span ' + image.wBlocks" [style.gridRowEnd]="'span ' + image.hBlocks">

<!-- <div class="extra-style" [style.backgroundImage]="'url(' + image.img+ ')'"  ></div> -->
              <img [ngClass]="image.img ==='./assets/media/block.jpeg' ? 'img-block ':''" style="cursor: pointer;"  [src]="image.img" alt="">
            </div>
            <!-- <div  *ngFor="let image of images" [style.width]="image.wBlocks * 5 + 'vw'" [style.height]="10 + 'vw'" >
            </div> -->
      
          </div>
        
        <br/>
        <div class="d-flex justify-content-center" *ngIf="loading">
           
        <div class="spinner-grow text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <div class="spinner-grow text-secondary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <div class="spinner-grow text-success" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <div class="spinner-grow text-danger" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <div class="spinner-grow text-warning" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <div class="spinner-grow text-info" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
    </div>
</div>







<nz-modal [(nzVisible)]="isVisible" nzWidth="600px" nzTitle="Business Details" (nzOnCancel)="handleCancel()" (nzOnOk)="handleCancel()">
  <ng-container *nzModalContent>
    <form *ngIf="!userData && currUser?.id !== selectedData.user_id" (ngSubmit)="submitModal(modalForm)" #modalForm="ngForm">
      <div class="">
        <h3>Please Fill In These Details To See The Details</h3>
    <div class="row d-flex justify-content-center ">
      <div class="row">
      <div class="input-detail col-md-12">
       
          <label>Name</label>
          <input required type="text" name="name" class="form-control" ngModel placeholder="Enter Name">
        </div>
        </div>
       <div class="row">
      <div class="input-detail col-md-12">
       
          <label>Email</label>
          <input required type="text"  name="email" class="form-control" ngModel placeholder="Enter Email">
       
      </div>
      </div>
      <div class="row">
      <div class="input-detail col-md-12">
       
          <label>Phone Number</label>
          <input required type="text" name="phone" class="form-control" ngModel placeholder="Enter Phone">
        
      </div>
      </div>
      <div class="row">
      <div class="button-wrapper text-center  col-md-12">
        <!-- <button>Preview</button> -->
        <button type="submit" class="ms-2">Submit </button>
    </div>
    </div>
    </div>
  </div>
  </form>
  <div *ngIf="userData || currUser?.id === selectedData.user_id" class="">
    <div class="row d-flex justify-content-center">
        <div class="col-md-12">
            <div class="card p-2 text-center">
                <div class="row">
                  
                    <div class="col-md-12">
                      <div>

                        <img [src]="selectedData.img" >
                      </div>
                        <div class="py-3">
                          <h4 class="text-secondary">{{selectedData.name}}</h4>
                          <div class="allergy"><span><h2>{{selectedData.company_name}}</h2></span></div>
                      
                          <div  class="mt-4"> <span class="d-block head">Address</span> <span class="bottom">{{selectedData?.address_1}}</span> </div>
                          <div class="mt-4"> <span class="d-block head">Description</span> <span class="bottom">{{selectedData?.description}}</span> </div>
                            <div class="mt-4"> <span class="d-block head">Tagline</span> <span class="bottom">{{selectedData?.ad_tagline}}</span> </div>
                            <div class="mt-4"> <span class="d-block head">City</span> <span class="bottom">{{selectedData?.city}}</span> </div>
                            <div class="mt-4"> <span class="d-block head">State</span> <span class="bottom">{{selectedData?.state}}</span> </div>

                            <div class="mt-4"> <span class="d-block head">Latitude And Longitude</span> <span class="bottom">22.4705269, 88.1690792</span> </div>
                            <div class="px-3">
                              <div class="button-wrapper text-center">
                              <button (click)="openMaps()" type="button" class="ms-2">View On Maps </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

  </ng-container>

  <div *nzModalFooter>

  </div>
</nz-modal>
<img (click)="onEdit()" *ngIf="showScrollToTop" style="cursor: pointer; position: fixed; height:50px;width:50px; bottom:80px;right:20px" src="/assets/media/44603.png">

